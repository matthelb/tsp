#! /bin/bash

# cairo-test-suite - temporary wrapper script for .libs/cairo-test-suite
# Generated by libtool (GNU libtool) 2.4.2 Debian-2.4.2-1.1
#
# The cairo-test-suite program cannot be directly executed until all the libtool
# libraries that it depends on are installed.
#
# This wrapper script should never be moved out of the build directory.
# If it is, it will not operate correctly.

# Sed substitution that helps us do robust quoting.  It backslashifies
# metacharacters that are still active within double-quoted strings.
sed_quote_subst='s/\([`"$\\]\)/\\\1/g'

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
fi
BIN_SH=xpg4; export BIN_SH # for Tru64
DUALCASE=1; export DUALCASE # for MKS sh

# The HP-UX ksh and POSIX shell print the target directory to stdout
# if CDPATH is set.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

relink_command="(cd /home/student/cairo-1.12.16/test; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; { test -z \"\${LD_LIBRARY_PATH+set}\" || unset LD_LIBRARY_PATH || { LD_LIBRARY_PATH=; export LD_LIBRARY_PATH; }; }; PATH=/usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games; export PATH; gcc -D_REENTRANT -ffat-lto-objects -o \$progdir/\$file cairo_test_suite-buffer-diff.o cairo_test_suite-cairo-test.o cairo_test_suite-cairo-test-runner.o cairo_test_suite-a1-bug.o cairo_test_suite-a1-clip.o cairo_test_suite-a1-fill.o cairo_test_suite-a1-image-sample.o cairo_test_suite-a1-mask.o cairo_test_suite-a1-mask-sample.o cairo_test_suite-a1-sample.o cairo_test_suite-a1-traps-sample.o cairo_test_suite-a1-rasterisation.o cairo_test_suite-a8-clear.o cairo_test_suite-a8-mask.o cairo_test_suite-aliasing.o cairo_test_suite-alpha-similar.o cairo_test_suite-arc-direction.o cairo_test_suite-arc-infinite-loop.o cairo_test_suite-arc-looping-dash.o cairo_test_suite-api-special-cases.o cairo_test_suite-big-line.o cairo_test_suite-big-empty-box.o cairo_test_suite-big-empty-triangle.o cairo_test_suite-big-little-box.o cairo_test_suite-big-little-triangle.o cairo_test_suite-bug-spline.o cairo_test_suite-big-trap.o cairo_test_suite-bilevel-image.o cairo_test_suite-bug-40410.o cairo_test_suite-bug-51910.o cairo_test_suite-bug-bo-rectangular.o cairo_test_suite-bug-bo-collins.o cairo_test_suite-bug-bo-ricotz.o cairo_test_suite-bug-source-cu.o cairo_test_suite-bug-extents.o cairo_test_suite-bug-seams.o cairo_test_suite-caps.o cairo_test_suite-checkerboard.o cairo_test_suite-caps-joins.o cairo_test_suite-caps-joins-alpha.o cairo_test_suite-caps-joins-curve.o cairo_test_suite-caps-tails-curve.o cairo_test_suite-caps-sub-paths.o cairo_test_suite-clear.o cairo_test_suite-clear-source.o cairo_test_suite-clip-all.o cairo_test_suite-clip-complex-bug61592.o cairo_test_suite-clip-complex-shape.o cairo_test_suite-clip-contexts.o cairo_test_suite-clip-disjoint.o cairo_test_suite-clip-disjoint-hatching.o cairo_test_suite-clip-disjoint-quad.o cairo_test_suite-clip-device-offset.o cairo_test_suite-clip-double-free.o cairo_test_suite-clip-draw-unbounded.o cairo_test_suite-clip-empty.o cairo_test_suite-clip-empty-group.o cairo_test_suite-clip-empty-save.o cairo_test_suite-clip-fill.o cairo_test_suite-clip-fill-no-op.o cairo_test_suite-clip-fill-rule.o cairo_test_suite-clip-fill-rule-pixel-aligned.o cairo_test_suite-clip-group-shapes.o cairo_test_suite-clip-image.o cairo_test_suite-clip-intersect.o cairo_test_suite-clip-mixed-antialias.o cairo_test_suite-clip-nesting.o cairo_test_suite-clip-operator.o cairo_test_suite-clip-push-group.o cairo_test_suite-clip-polygons.o cairo_test_suite-clip-rectilinear.o cairo_test_suite-clip-shape.o cairo_test_suite-clip-stroke.o cairo_test_suite-clip-stroke-no-op.o cairo_test_suite-clip-text.o cairo_test_suite-clip-twice.o cairo_test_suite-clip-twice-rectangle.o cairo_test_suite-clip-unbounded.o cairo_test_suite-clip-zero.o cairo_test_suite-clipped-group.o cairo_test_suite-clipped-surface.o cairo_test_suite-close-path.o cairo_test_suite-close-path-current-point.o cairo_test_suite-composite-integer-translate-source.o cairo_test_suite-composite-integer-translate-over.o cairo_test_suite-composite-integer-translate-over-repeat.o cairo_test_suite-copy-disjoint.o cairo_test_suite-copy-path.o cairo_test_suite-coverage.o cairo_test_suite-create-for-stream.o cairo_test_suite-create-from-png.o cairo_test_suite-create-from-png-stream.o cairo_test_suite-culled-glyphs.o cairo_test_suite-curve-to-as-line-to.o cairo_test_suite-dash-caps-joins.o cairo_test_suite-dash-curve.o cairo_test_suite-dash-infinite-loop.o cairo_test_suite-dash-no-dash.o cairo_test_suite-dash-offset.o cairo_test_suite-dash-offset-negative.o cairo_test_suite-dash-scale.o cairo_test_suite-dash-state.o cairo_test_suite-dash-zero-length.o cairo_test_suite-degenerate-arc.o cairo_test_suite-degenerate-arcs.o cairo_test_suite-degenerate-curve-to.o cairo_test_suite-degenerate-dash.o cairo_test_suite-degenerate-linear-gradient.o cairo_test_suite-degenerate-path.o cairo_test_suite-degenerate-pen.o cairo_test_suite-degenerate-radial-gradient.o cairo_test_suite-degenerate-rel-curve-to.o cairo_test_suite-degenerate-solid-dash.o cairo_test_suite-drunkard-tails.o cairo_test_suite-device-offset.o cairo_test_suite-device-offset-fractional.o cairo_test_suite-device-offset-positive.o cairo_test_suite-device-offset-scale.o cairo_test_suite-error-setters.o cairo_test_suite-extend-pad.o cairo_test_suite-extend-pad-border.o cairo_test_suite-extend-pad-similar.o cairo_test_suite-extend-reflect.o cairo_test_suite-extend-reflect-similar.o cairo_test_suite-extend-repeat.o cairo_test_suite-extend-repeat-similar.o cairo_test_suite-extended-blend.o cairo_test_suite-fallback.o cairo_test_suite-fill-alpha.o cairo_test_suite-fill-alpha-pattern.o cairo_test_suite-fill-and-stroke.o cairo_test_suite-fill-and-stroke-alpha.o cairo_test_suite-fill-and-stroke-alpha-add.o cairo_test_suite-fill-degenerate-sort-order.o cairo_test_suite-fill-disjoint.o cairo_test_suite-fill-empty.o cairo_test_suite-fill-image.o cairo_test_suite-fill-missed-stop.o cairo_test_suite-fill-rule.o cairo_test_suite-filter-bilinear-extents.o cairo_test_suite-filter-nearest-offset.o cairo_test_suite-filter-nearest-transformed.o cairo_test_suite-finer-grained-fallbacks.o cairo_test_suite-font-face-get-type.o cairo_test_suite-font-matrix-translation.o cairo_test_suite-font-options.o cairo_test_suite-glyph-cache-pressure.o cairo_test_suite-get-and-set.o cairo_test_suite-get-clip.o cairo_test_suite-get-group-target.o cairo_test_suite-get-path-extents.o cairo_test_suite-gradient-alpha.o cairo_test_suite-gradient-constant-alpha.o cairo_test_suite-gradient-zero-stops.o cairo_test_suite-gradient-zero-stops-mask.o cairo_test_suite-group-clip.o cairo_test_suite-group-paint.o cairo_test_suite-group-state.o cairo_test_suite-group-unaligned.o cairo_test_suite-half-coverage.o cairo_test_suite-halo.o cairo_test_suite-hatchings.o cairo_test_suite-horizontal-clip.o cairo_test_suite-huge-linear.o cairo_test_suite-huge-radial.o cairo_test_suite-image-surface-source.o cairo_test_suite-image-bug-710072.o cairo_test_suite-implicit-close.o cairo_test_suite-infinite-join.o cairo_test_suite-in-fill-empty-trapezoid.o cairo_test_suite-in-fill-trapezoid.o cairo_test_suite-invalid-matrix.o cairo_test_suite-inverse-text.o cairo_test_suite-inverted-clip.o cairo_test_suite-joins.o cairo_test_suite-joins-loop.o cairo_test_suite-joins-star.o cairo_test_suite-joins-retrace.o cairo_test_suite-large-clip.o cairo_test_suite-large-font.o cairo_test_suite-large-source.o cairo_test_suite-large-source-roi.o cairo_test_suite-large-twin-antialias-mixed.o cairo_test_suite-leaky-dash.o cairo_test_suite-leaky-dashed-rectangle.o cairo_test_suite-leaky-dashed-stroke.o cairo_test_suite-leaky-polygon.o cairo_test_suite-line-width.o cairo_test_suite-line-width-large-overlap.o cairo_test_suite-line-width-overlap.o cairo_test_suite-line-width-scale.o cairo_test_suite-line-width-tolerance.o cairo_test_suite-line-width-zero.o cairo_test_suite-linear-gradient.o cairo_test_suite-linear-gradient-extend.o cairo_test_suite-linear-gradient-large.o cairo_test_suite-linear-gradient-one-stop.o cairo_test_suite-linear-gradient-reflect.o cairo_test_suite-linear-gradient-subset.o cairo_test_suite-linear-step-function.o cairo_test_suite-linear-uniform.o cairo_test_suite-long-dashed-lines.o cairo_test_suite-long-lines.o cairo_test_suite-map-to-image.o cairo_test_suite-mask.o cairo_test_suite-mask-alpha.o cairo_test_suite-mask-ctm.o cairo_test_suite-mask-glyphs.o cairo_test_suite-mask-surface-ctm.o cairo_test_suite-mask-transformed-image.o cairo_test_suite-mask-transformed-similar.o cairo_test_suite-mesh-pattern.o cairo_test_suite-mesh-pattern-accuracy.o cairo_test_suite-mesh-pattern-conical.o cairo_test_suite-mesh-pattern-control-points.o cairo_test_suite-mesh-pattern-fold.o cairo_test_suite-mesh-pattern-overlap.o cairo_test_suite-mesh-pattern-transformed.o cairo_test_suite-mime-data.o cairo_test_suite-mime-surface-api.o cairo_test_suite-miter-precision.o cairo_test_suite-move-to-show-surface.o cairo_test_suite-negative-stride-image.o cairo_test_suite-new-sub-path.o cairo_test_suite-nil-surface.o cairo_test_suite-operator.o cairo_test_suite-operator-alpha.o cairo_test_suite-operator-alpha-alpha.o cairo_test_suite-operator-clear.o cairo_test_suite-operator-source.o cairo_test_suite-outline-tolerance.o cairo_test_suite-over-above-source.o cairo_test_suite-over-around-source.o cairo_test_suite-over-below-source.o cairo_test_suite-over-between-source.o cairo_test_suite-overlapping-boxes.o cairo_test_suite-overlapping-glyphs.o cairo_test_suite-overlapping-dash-caps.o cairo_test_suite-paint.o cairo_test_suite-paint-clip-fill.o cairo_test_suite-paint-repeat.o cairo_test_suite-paint-source-alpha.o cairo_test_suite-paint-with-alpha.o cairo_test_suite-partial-clip-text.o cairo_test_suite-partial-coverage.o cairo_test_suite-pass-through.o cairo_test_suite-path-append.o cairo_test_suite-path-stroke-twice.o cairo_test_suite-path-precision.o cairo_test_suite-pattern-get-type.o cairo_test_suite-pattern-getters.o cairo_test_suite-pdf-isolated-group.o cairo_test_suite-pixman-rotate.o cairo_test_suite-png.o cairo_test_suite-push-group.o cairo_test_suite-push-group-color.o cairo_test_suite-push-group-path-offset.o cairo_test_suite-radial-gradient.o cairo_test_suite-radial-gradient-extend.o cairo_test_suite-radial-outer-focus.o cairo_test_suite-random-clips.o cairo_test_suite-random-intersections-eo.o cairo_test_suite-random-intersections-nonzero.o cairo_test_suite-random-intersections-curves-eo.o cairo_test_suite-random-intersections-curves-nz.o cairo_test_suite-raster-source.o cairo_test_suite-record.o cairo_test_suite-record1414x.o cairo_test_suite-record2x.o cairo_test_suite-record90.o cairo_test_suite-recordflip.o cairo_test_suite-record-extend.o cairo_test_suite-record-mesh.o cairo_test_suite-recording-surface-pattern.o cairo_test_suite-recording-surface-extend.o cairo_test_suite-rectangle-rounding-error.o cairo_test_suite-rectilinear-fill.o cairo_test_suite-rectilinear-grid.o cairo_test_suite-rectilinear-miter-limit.o cairo_test_suite-rectilinear-dash.o cairo_test_suite-rectilinear-dash-scale.o cairo_test_suite-rectilinear-stroke.o cairo_test_suite-reflected-stroke.o cairo_test_suite-rel-path.o cairo_test_suite-rgb24-ignore-alpha.o cairo_test_suite-rotate-image-surface-paint.o cairo_test_suite-rotated-clip.o cairo_test_suite-rounded-rectangle-fill.o cairo_test_suite-rounded-rectangle-stroke.o cairo_test_suite-sample.o cairo_test_suite-scale-down-source-surface-paint.o cairo_test_suite-scale-offset-image.o cairo_test_suite-scale-offset-similar.o cairo_test_suite-scale-source-surface-paint.o cairo_test_suite-scaled-font-zero-matrix.o cairo_test_suite-stroke-ctm-caps.o cairo_test_suite-stroke-clipped.o cairo_test_suite-stroke-image.o cairo_test_suite-stroke-open-box.o cairo_test_suite-select-font-face.o cairo_test_suite-select-font-no-show-text.o cairo_test_suite-self-copy.o cairo_test_suite-self-copy-overlap.o cairo_test_suite-self-intersecting.o cairo_test_suite-set-source.o cairo_test_suite-show-glyphs-advance.o cairo_test_suite-show-glyphs-many.o cairo_test_suite-show-text-current-point.o cairo_test_suite-shape-general-convex.o cairo_test_suite-shape-sierpinski.o cairo_test_suite-skew-extreme.o cairo_test_suite-smask.o cairo_test_suite-smask-fill.o cairo_test_suite-smask-image-mask.o cairo_test_suite-smask-mask.o cairo_test_suite-smask-paint.o cairo_test_suite-smask-stroke.o cairo_test_suite-smask-text.o cairo_test_suite-solid-pattern-cache-stress.o cairo_test_suite-source-clip.o cairo_test_suite-source-clip-scale.o cairo_test_suite-source-surface-scale-paint.o cairo_test_suite-spline-decomposition.o cairo_test_suite-stride-12-image.o cairo_test_suite-stroke-pattern.o cairo_test_suite-subsurface.o cairo_test_suite-subsurface-image-repeat.o cairo_test_suite-subsurface-repeat.o cairo_test_suite-subsurface-reflect.o cairo_test_suite-subsurface-pad.o cairo_test_suite-subsurface-modify-child.o cairo_test_suite-subsurface-modify-parent.o cairo_test_suite-subsurface-outside-target.o cairo_test_suite-subsurface-scale.o cairo_test_suite-subsurface-similar-repeat.o cairo_test_suite-surface-finish-twice.o cairo_test_suite-surface-pattern.o cairo_test_suite-surface-pattern-big-scale-down.o cairo_test_suite-surface-pattern-operator.o cairo_test_suite-surface-pattern-scale-down.o cairo_test_suite-surface-pattern-scale-down-extend.o cairo_test_suite-surface-pattern-scale-up.o cairo_test_suite-text-antialias.o cairo_test_suite-text-antialias-subpixel.o cairo_test_suite-text-cache-crash.o cairo_test_suite-text-glyph-range.o cairo_test_suite-text-pattern.o cairo_test_suite-text-rotate.o cairo_test_suite-text-transform.o cairo_test_suite-text-zero-len.o cairo_test_suite-tighten-bounds.o cairo_test_suite-tiger.o cairo_test_suite-toy-font-face.o cairo_test_suite-transforms.o cairo_test_suite-translate-show-surface.o cairo_test_suite-trap-clip.o cairo_test_suite-twin.o cairo_test_suite-twin-antialias-gray.o cairo_test_suite-twin-antialias-mixed.o cairo_test_suite-twin-antialias-none.o cairo_test_suite-twin-antialias-subpixel.o cairo_test_suite-unaligned-box.o cairo_test_suite-unantialiased-shapes.o cairo_test_suite-unbounded-operator.o cairo_test_suite-unclosed-strokes.o cairo_test_suite-user-data.o cairo_test_suite-user-font.o cairo_test_suite-user-font-mask.o cairo_test_suite-user-font-proxy.o cairo_test_suite-user-font-rescale.o cairo_test_suite-world-map.o cairo_test_suite-white-in-noop.o cairo_test_suite-xcb-huge-image-shm.o cairo_test_suite-xcb-huge-subimage.o cairo_test_suite-xcb-stress-cache.o cairo_test_suite-xcb-snapshot-assert.o cairo_test_suite-xcomposite-projection.o cairo_test_suite-xlib-expose-event.o cairo_test_suite-zero-alpha.o cairo_test_suite-zero-mask.o cairo_test_suite-pthread-same-source.o cairo_test_suite-pthread-show-text.o cairo_test_suite-pthread-similar.o cairo_test_suite-bitmap-font.o cairo_test_suite-ft-font-create-for-ft-face.o cairo_test_suite-ft-show-glyphs-positioning.o cairo_test_suite-ft-show-glyphs-table.o cairo_test_suite-ft-text-vertical-layout-type1.o cairo_test_suite-ft-text-vertical-layout-type3.o cairo_test_suite-ft-text-antialias-none.o cairo_test_suite-pdf-features.o cairo_test_suite-pdf-mime-data.o cairo_test_suite-pdf-surface-source.o cairo_test_suite-ps-eps.o cairo_test_suite-ps-features.o cairo_test_suite-ps-surface-source.o cairo_test_suite-svg-surface.o cairo_test_suite-svg-clip.o cairo_test_suite-svg-surface-source.o cairo_test_suite-xcb-surface-source.o cairo_test_suite-xlib-surface.o cairo_test_suite-xlib-surface-source.o cairo_test_suite-get-xrender-format.o cairo_test_suite-multi-page.o cairo_test_suite-fallback-resolution.o cairo_test_suite-cairo-test-constructors.o  ../test/pdiff/.libs/libpdiff.a ../boilerplate/.libs/libcairoboilerplate.a /home/student/cairo-1.12.16/src/.libs/libcairo.so /usr/lib/x86_64-linux-gnu/libfreetype.so -lpthread -lpixman-1 -lfontconfig -lpng12 -lxcb-shm -lxcb-render -lxcb -lXrender -lX11 -lXext -lz -ldl ../src/.libs/libcairo.so -lrt -lm -Wl,-rpath -Wl,/home/student/cairo-1.12.16/src/.libs)"

# This environment variable determines our operation mode.
if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
  # install mode needs the following variables:
  generated_by_libtool_version='2.4.2'
  notinst_deplibs=' /home/student/cairo-1.12.16/src/libcairo.la ../src/libcairo.la'
else
  # When we are sourced in execute mode, $file and $ECHO are already set.
  if test "$libtool_execute_magic" != "%%%MAGIC variable%%%"; then
    file="$0"

# A function that is used when there is no print builtin or printf.
func_fallback_echo ()
{
  eval 'cat <<_LTECHO_EOF
$1
_LTECHO_EOF'
}
    ECHO="printf %s\\n"
  fi

# Very basic option parsing. These options are (a) specific to
# the libtool wrapper, (b) are identical between the wrapper
# /script/ and the wrapper /executable/ which is used only on
# windows platforms, and (c) all begin with the string --lt-
# (application programs are unlikely to have options which match
# this pattern).
#
# There are only two supported options: --lt-debug and
# --lt-dump-script. There is, deliberately, no --lt-help.
#
# The first argument to this parsing function should be the
# script's ../libtool value, followed by no.
lt_option_debug=
func_parse_lt_options ()
{
  lt_script_arg0=$0
  shift
  for lt_opt
  do
    case "$lt_opt" in
    --lt-debug) lt_option_debug=1 ;;
    --lt-dump-script)
        lt_dump_D=`$ECHO "X$lt_script_arg0" | /bin/sed -e 's/^X//' -e 's%/[^/]*$%%'`
        test "X$lt_dump_D" = "X$lt_script_arg0" && lt_dump_D=.
        lt_dump_F=`$ECHO "X$lt_script_arg0" | /bin/sed -e 's/^X//' -e 's%^.*/%%'`
        cat "$lt_dump_D/$lt_dump_F"
        exit 0
      ;;
    --lt-*)
        $ECHO "Unrecognized --lt- option: '$lt_opt'" 1>&2
        exit 1
      ;;
    esac
  done

  # Print the debug banner immediately:
  if test -n "$lt_option_debug"; then
    echo "cairo-test-suite:cairo-test-suite:${LINENO}: libtool wrapper (GNU libtool) 2.4.2 Debian-2.4.2-1.1" 1>&2
  fi
}

# Used when --lt-debug. Prints its arguments to stdout
# (redirection is the responsibility of the caller)
func_lt_dump_args ()
{
  lt_dump_args_N=1;
  for lt_arg
  do
    $ECHO "cairo-test-suite:cairo-test-suite:${LINENO}: newargv[$lt_dump_args_N]: $lt_arg"
    lt_dump_args_N=`expr $lt_dump_args_N + 1`
  done
}

# Core function for launching the target application
func_exec_program_core ()
{

      if test -n "$lt_option_debug"; then
        $ECHO "cairo-test-suite:cairo-test-suite:${LINENO}: newargv[0]: $progdir/$program" 1>&2
        func_lt_dump_args ${1+"$@"} 1>&2
      fi
      exec "$progdir/$program" ${1+"$@"}

      $ECHO "$0: cannot exec $program $*" 1>&2
      exit 1
}

# A function to encapsulate launching the target application
# Strips options in the --lt-* namespace from $@ and
# launches target application with the remaining arguments.
func_exec_program ()
{
  case " $* " in
  *\ --lt-*)
    for lt_wr_arg
    do
      case $lt_wr_arg in
      --lt-*) ;;
      *) set x "$@" "$lt_wr_arg"; shift;;
      esac
      shift
    done ;;
  esac
  func_exec_program_core ${1+"$@"}
}

  # Parse options
  func_parse_lt_options "$0" ${1+"$@"}

  # Find the directory that this script lives in.
  thisdir=`$ECHO "$file" | /bin/sed 's%/[^/]*$%%'`
  test "x$thisdir" = "x$file" && thisdir=.

  # Follow symbolic links until we get to the real thisdir.
  file=`ls -ld "$file" | /bin/sed -n 's/.*-> //p'`
  while test -n "$file"; do
    destdir=`$ECHO "$file" | /bin/sed 's%/[^/]*$%%'`

    # If there was a directory component, then change thisdir.
    if test "x$destdir" != "x$file"; then
      case "$destdir" in
      [\\/]* | [A-Za-z]:[\\/]*) thisdir="$destdir" ;;
      *) thisdir="$thisdir/$destdir" ;;
      esac
    fi

    file=`$ECHO "$file" | /bin/sed 's%^.*/%%'`
    file=`ls -ld "$thisdir/$file" | /bin/sed -n 's/.*-> //p'`
  done

  # Usually 'no', except on cygwin/mingw when embedded into
  # the cwrapper.
  WRAPPER_SCRIPT_BELONGS_IN_OBJDIR=no
  if test "$WRAPPER_SCRIPT_BELONGS_IN_OBJDIR" = "yes"; then
    # special case for '.'
    if test "$thisdir" = "."; then
      thisdir=`pwd`
    fi
    # remove .libs from thisdir
    case "$thisdir" in
    *[\\/].libs ) thisdir=`$ECHO "$thisdir" | /bin/sed 's%[\\/][^\\/]*$%%'` ;;
    .libs )   thisdir=. ;;
    esac
  fi

  # Try to get the absolute directory name.
  absdir=`cd "$thisdir" && pwd`
  test -n "$absdir" && thisdir="$absdir"

  program=lt-'cairo-test-suite'
  progdir="$thisdir/.libs"

  if test ! -f "$progdir/$program" ||
     { file=`ls -1dt "$progdir/$program" "$progdir/../$program" 2>/dev/null | /bin/sed 1q`; \
       test "X$file" != "X$progdir/$program"; }; then

    file="$$-$program"

    if test ! -d "$progdir"; then
      mkdir "$progdir"
    else
      rm -f "$progdir/$file"
    fi

    # relink executable if necessary
    if test -n "$relink_command"; then
      if relink_command_output=`eval $relink_command 2>&1`; then :
      else
	printf %s\n "$relink_command_output" >&2
	rm -f "$progdir/$file"
	exit 1
      fi
    fi

    mv -f "$progdir/$file" "$progdir/$program" 2>/dev/null ||
    { rm -f "$progdir/$program";
      mv -f "$progdir/$file" "$progdir/$program"; }
    rm -f "$progdir/$file"
  fi

  if test -f "$progdir/$program"; then
    if test "$libtool_execute_magic" != "%%%MAGIC variable%%%"; then
      # Run the actual program with our arguments.
      func_exec_program ${1+"$@"}
    fi
  else
    # The program doesn't exist.
    $ECHO "$0: error: \`$progdir/$program' does not exist" 1>&2
    $ECHO "This script is just a wrapper for $program." 1>&2
    $ECHO "See the libtool documentation for more information." 1>&2
    exit 1
  fi
fi
